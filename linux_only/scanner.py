import sys

from scapy.all import sniff

def packet_callback(packet):
    print(packet.show())

def main():

    try:
        while True:
            sniff(prn=packet_callback, count=1)
    except KeyboardInterrupt:
        print("\nUser Interrupted")
        sys.exit()

if __name__ == '__main__':
    main()